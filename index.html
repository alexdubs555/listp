<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reproductor Plyr</title>
    <!-- Incluye la biblioteca Plyr CSS -->
    <link rel="stylesheet" href="https://cdn.plyr.io/3.7.8/plyr.css" />
    <style>
        body, html {
            margin: 0;
            padding: 0;
            height: 100%;
            overflow: hidden;
        }
        #player {
            width: 100%;
            height: 100%;
        }
    </style>
</head>
<body>
    <!-- Reproductor -->
    <video id="player" controls></video> <!-- Eliminado el atributo 'muted' -->

    <!-- Incluye la biblioteca Plyr JS -->
    <script src="https://cdn.plyr.io/3.7.8/plyr.js"></script>
    <script>
        // Función para obtener el parámetro de la URL
        function getQueryParam(param) {
            const urlParams = new URLSearchParams(window.location.search);
            return urlParams.get(param);
        }

        // Obtén la URL del video desde el parámetro "video" en la URL
        const videoUrl = getQueryParam('video');

        // Si hay una URL de video, carga el reproductor
        if (videoUrl) {
            const player = new Plyr('#player', {
                controls: ['play', 'progress', 'current-time', 'mute', 'volume', 'fullscreen'],
                autoplay: true // Habilita la reproducción automática
            });

            // Configura la fuente del video
            const videoElement = document.getElementById('player');
            videoElement.src = videoUrl;
        } else {
            document.body.innerHTML = "<p style='text-align: center; padding: 20px;'>No se ha proporcionado una URL de video. Por favor, proporciona una URL válida usando el parámetro 'video' en la URL.</p>";
        }
    </script>
</body>
</html>
